"use strict";(self.webpackChunk_0xsequence_docs=self.webpackChunk_0xsequence_docs||[]).push([[6019],{6603:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>o});var i=t(1527),a=t(7279);const s={},c="Clients",r={id:"unity-waas-sdk/Advanced/clients",title:"Clients",description:"In the context of SequenceEthereum, a Client is defined by the IEthClient interface.",source:"@site/docs/unity-waas-sdk/Advanced/03-clients.mdx",sourceDirName:"unity-waas-sdk/Advanced",slug:"/unity-waas-sdk/Advanced/clients",permalink:"/unity-waas-sdk/Advanced/clients",draft:!1,unlisted:!1,editUrl:"https://github.com/0xsequence/docs/edit/master/docs/unity-waas-sdk/Advanced/03-clients.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"sidebar",previous:{title:"Wallets",permalink:"/unity-waas-sdk/Advanced/wallets"},next:{title:"Transfers",permalink:"/unity-waas-sdk/Advanced/transfers"}},l={},o=[{value:"Methods",id:"methods",level:2},{value:"BalanceAt",id:"balanceat",level:3},{value:"BlockByNumber",id:"blockbynumber",level:3},{value:"BlockByHash",id:"blockbyhash",level:3},{value:"BlockNumber",id:"blocknumber",level:3},{value:"BlockRange",id:"blockrange",level:3},{value:"ChainID",id:"chainid",level:3},{value:"CodeAt",id:"codeat",level:3},{value:"EstimateGas",id:"estimategas",level:3},{value:"FeeHistory",id:"feehistory",level:3},{value:"NetworkId",id:"networkid",level:3},{value:"NonceAt",id:"nonceat",level:3},{value:"SendRawTransaction",id:"sendrawtransaction",level:3},{value:"SuggestGasPrice",id:"suggestgasprice",level:3},{value:"SuggestGasTipCap",id:"suggestgastipcap",level:3},{value:"TransactionByHash",id:"transactionbyhash",level:3},{value:"TransactionCount",id:"transactioncount",level:3},{value:"WaitForTransactionReceipt",id:"waitfortransactionreceipt",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"clients",children:"Clients"}),"\n",(0,i.jsxs)(n.p,{children:["In the context of SequenceEthereum, a ",(0,i.jsx)(n.code,{children:"Client"})," is defined by the ",(0,i.jsxs)(n.a,{href:"https://github.com/0xsequence/sequence-unity/blob/master/Assets/SequenceSDK/Ethereum/Provider/IEthClient.cs",children:[(0,i.jsx)(n.code,{children:"IEthClient"})," interface"]}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Creating a client requires a ",(0,i.jsx)(n.code,{children:"Chain"}),". This will use our highly available and responsive Node Gateway service for your RPC requests; accessed using the API key from the Builder you've provided in your ",(0,i.jsx)(n.code,{children:"SequenceConfig"})," scriptable object. If you prefer to use your own RPC URL, you can create a ",(0,i.jsx)(n.code,{children:"SequenceEthClient"})," using a URL string as a parameter instead."]}),"\n",(0,i.jsx)(n.p,{children:"You can create a client using this snippet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"IEthClient client = new SequenceEthClient(Chain.Polygon);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsxs)(n.p,{children:["As your connection point to Ethereum nodes, there are a number of methods that can be performed by a client, these can be found in the ",(0,i.jsx)(n.code,{children:"IEthClient"})," interface and are implemented by ",(0,i.jsx)(n.code,{children:"SequenceEthClient"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Note: with the exception of BalanceAt (potentially), most users will not need to make use of these methods, but we have included them in our documentation for completeness."}),"\n",(0,i.jsx)(n.h3,{id:"balanceat",children:"BalanceAt"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the gas currency balance of a given wallet at a given blockNumber (in hexadecimal format provided as a string)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigIntegar balance = await client.BalanceAt(wallet.GetAddress()); // By default, if no blockNumber string is provided, check the latest block\nBigIntegar balance = await client.BalanceAt(wallet.GetAddress(), blockNumber);\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: there are two special values for blockNumber. "earliest" will get the balance at the earliest block on the chain. "latest" will get the balance at the latest block on the chain and is the default parameter when none is provided. Otherwise, you\'ll want to provide the blockNumber string in hexadecimal format.'}),"\n",(0,i.jsx)("b",{children:(0,i.jsxs)("u",{children:["Unless you ",(0,i.jsx)("i",{children:"really"})," want to get into the weeds with how things work, it is HIGHLY recommended to move on to the next page of the documentation at this point"]})}),"\n",(0,i.jsx)(n.h3,{id:"blockbynumber",children:"BlockByNumber"}),"\n",(0,i.jsxs)(n.p,{children:["Used to get the ",(0,i.jsx)(n.code,{children:"Block"})," with a specific block number."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Block block = await client.BlockByNumber(blockNumber);\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: as above, blockNumber should be in hexadecimal format or special values "ealiest" and "latest"'}),"\n",(0,i.jsx)(n.h3,{id:"blockbyhash",children:"BlockByHash"}),"\n",(0,i.jsxs)(n.p,{children:["Used to get the ",(0,i.jsx)(n.code,{children:"Block"})," by a specified block hash (string)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Block block = await client.BlockByHash(blockHash);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"blocknumber",children:"BlockNumber"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the most recent block number in hexadecimal format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string blockNumber = await client.BlockNumber();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"blockrange",children:"BlockRange"}),"\n",(0,i.jsxs)(n.p,{children:["Used to get a ",(0,i.jsx)(n.code,{children:"List<Block>"})," from the blocks in a range specified by blockNumbers"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"List<Block> blockRange = await client.BlockRange(startingBlockNumber, endingBlockNumber);\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: as above, blockNumber should be in hexadecimal format or special values "ealiest" and "latest"'}),"\n",(0,i.jsx)(n.h3,{id:"chainid",children:"ChainID"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the chain id in hexadecimal format for the chain the client is connected to"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string chainId = await client.ChainID();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"codeat",children:"CodeAt"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the bytecode for a smart contract at a given address in hexadecimal format at a specified blockNumber"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string code = await client.CodeAt(contractAddress, blockNumber);\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: as above, blockNumber should be in hexadecimal format or special values "ealiest" and "latest"'}),"\n",(0,i.jsx)(n.h3,{id:"estimategas",children:"EstimateGas"}),"\n",(0,i.jsxs)(n.p,{children:["Given a ",(0,i.jsx)(n.code,{children:"TransactionCall"})," estimate the amount of gas required for the transaction"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigIntegar gas = await client.EstimateGas(transactionCall);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"feehistory",children:"FeeHistory"}),"\n",(0,i.jsxs)(n.p,{children:["Get a ",(0,i.jsx)(n.code,{children:"FeeHistoryResult"})," for gas fees paid blockCount blocks since newestBlock (blockNumber)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"FeeHistoryResult feeHistory = await client.FeeHistory(blockCount, newestBlock, new int[] { });\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: as above, blockNumber should be in hexadecimal format or special values "ealiest" and "latest"'}),"\n",(0,i.jsx)(n.h3,{id:"networkid",children:"NetworkId"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the chain id in integer format (as string) for the chain the client is connected to"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string networkId = await client.NetworkId();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"nonceat",children:"NonceAt"}),"\n",(0,i.jsxs)(n.p,{children:["Used to get the recommended nonce for a given ",(0,i.jsx)(n.code,{children:"Address"}),' at a given blockNumber (defaults to "latest")']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigInteger nonce = await client.NonceAt(wallet.GetAddress()); // Nonce at latest\nBigIntegar nonce = await client.NonceAt(wallet.GetAddress(), blockNumber);\n"})}),"\n",(0,i.jsx)(n.p,{children:'Note: as above, blockNumber should be in hexadecimal format or special values "ealiest" and "latest"'}),"\n",(0,i.jsx)(n.h3,{id:"sendrawtransaction",children:"SendRawTransaction"}),"\n",(0,i.jsx)(n.p,{children:"Given a signed transaction string, submit the transaction to the network and return a transaction hash"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string transactionHash = await client.SendRawTransaction(signedTransactionString);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"suggestgasprice",children:"SuggestGasPrice"}),"\n",(0,i.jsx)(n.p,{children:"Used to get a suggested gas price"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigIntegar gasPrice = await client.SuggestGasPrice();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"suggestgastipcap",children:"SuggestGasTipCap"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the max suggested priority fee for gas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigIntegar gasTipCap = await client.SuggestGasTipCap();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"transactionbyhash",children:"TransactionByHash"}),"\n",(0,i.jsxs)(n.p,{children:["Used to get a ",(0,i.jsx)(n.code,{children:"Transaction"})," by transaction hash"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Transaction transaction = await client.TransactionByHash(transactionHash);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"transactioncount",children:"TransactionCount"}),"\n",(0,i.jsx)(n.p,{children:"Used to get the number of transactions in a block by block hash"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"BigIntegar transactionCount = await client.TransactionCount(blockHash);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"waitfortransactionreceipt",children:"WaitForTransactionReceipt"}),"\n",(0,i.jsxs)(n.p,{children:["Provide a transaction hash in order to wait for and return the ",(0,i.jsx)(n.code,{children:"TransactionReceipt"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TransactionReceipt receipt = await client.WaitForTransactionReceipt(transactionHash);\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7279:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>c});var i=t(959);const a={},s=i.createContext(a);function c(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);