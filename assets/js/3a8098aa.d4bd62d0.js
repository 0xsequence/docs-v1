"use strict";(self.webpackChunk_0xsequence_docs=self.webpackChunk_0xsequence_docs||[]).push([[5916],{7557:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=t(1527),i=t(7279);const r={},l="API Integration",a={id:"unreal-waas-sdk/api-integration",title:"API Integration",description:"Sequence API",source:"@site/docs/130-unreal-waas-sdk/05-api-integration.mdx",sourceDirName:"130-unreal-waas-sdk",slug:"/unreal-waas-sdk/api-integration",permalink:"/unreal-waas-sdk/api-integration",draft:!1,unlisted:!1,editUrl:"https://github.com/0xsequence/docs/edit/master/docs/130-unreal-waas-sdk/05-api-integration.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"sidebar",previous:{title:"Authentication",permalink:"/unreal-waas-sdk/authentication"},next:{title:"Packaging",permalink:"/unreal-waas-sdk/packaging"}},o={},c=[{value:"Sequence API",id:"sequence-api",level:3},{value:"Sequence Unreal API",id:"sequence-unreal-api",level:3},{value:"USequenceWallet",id:"usequencewallet",level:3},{value:"Sequence API Methods",id:"sequence-api-methods",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"api-integration",children:"API Integration"}),"\n",(0,s.jsx)(n.h3,{id:"sequence-api",children:"Sequence API"}),"\n",(0,s.jsxs)(n.p,{children:["After you've completed initial authentication and have intercepted the credentials either through your UI or ours, to use the Sequence API you'll need to create a ",(0,s.jsx)(n.code,{children:"[USequenceWallet]"})," by using:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-clike",children:"`[USequenceWallet * Api = USequenceWallet(CredentialsIn)]` or `[USequenceWallet * Api = USequenceWallet::Make(CredentialsIn, ProviderURL)]`\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Once you have your ",(0,s.jsx)(n.code,{children:"[USequenceWallet]"})," UObject call ",(0,s.jsx)(n.code,{children:"[Api>RegisterSession(OnSuccess,GenericFailure)]"})," this will register your credentials with the Sequence API. Note not calling Register prior to make any others calls will result in errors as a UserWallet hasn't been supplied until this point."]}),"\n",(0,s.jsx)(n.p,{children:"`*"}),"\n",(0,s.jsxs)(n.p,{children:["Assuming you've setup your controlling Actor with the ",(0,s.jsx)(n.code,{children:"[Sequence_Pawn_Component_BP]"}),"\nThe sequence pawn component has functions to do the following:"]}),"\n",(0,s.jsx)(n.p,{children:"Setup Sequence (sets up the sequence based systems), requires playerController input"}),"\n",(0,s.jsx)(n.p,{children:"Show GUI Shows the UI"}),"\n",(0,s.jsx)(n.p,{children:"Hide GUI Hides the UI"}),"\n",(0,s.jsx)(n.p,{children:"GUI Visible Simple Visibility test for the UI"}),"\n",(0,s.jsx)(n.p,{children:"Switch Platform (Switches which mode the UI will be in and how it will be displayed)"}),"\n",(0,s.jsx)(n.p,{children:"Note: this doesn't rotate the application into any one view it just make the UI responsive to that type of view."}),"\n",(0,s.jsx)(n.p,{children:"Modes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Desktop (default)"}),"\n",(0,s.jsx)(n.li,{children:"Mobile Portrait (Custom built for portrait mode reducing the X width where ever possible)"}),"\n",(0,s.jsx)(n.li,{children:"Mobile Landscape"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"`*"}),"\n",(0,s.jsx)(n.h3,{id:"sequence-unreal-api",children:"Sequence Unreal API"}),"\n",(0,s.jsx)(n.p,{children:"The Sequence Unreal plugin is broken up into a few different parts in order to manage all of the differing functionality. Here we'll go through each parts purpose then summarize how to use them all together below"}),"\n",(0,s.jsx)(n.p,{children:"The SDK automatically stores credentials on disk in the following cases:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"On Successful Auth"}),"\n",(0,s.jsx)(n.li,{children:"On Successful Registering of a session"}),"\n",(0,s.jsx)(n.li,{children:"On Successful Closing of a session"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"usequencewallet",children:"USequenceWallet"}),"\n",(0,s.jsxs)(n.p,{children:["To get a ",(0,s.jsx)(n.code,{children:"USequenceWallet"})," call either:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"USequenceWallet::Make(FCredentials_BE CredentialsIn)\nUSequenceWallet::Make(FCredentials_BE CredentialsIn, FString ProviderURL)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Where the Credentials you give are the credentials you received from the UAuthenticator when ",(0,s.jsx)(n.code,{children:"[AuthSuccess]"})," fires, or you can use the call Auth->",(0,s.jsx)(n.code,{children:"[GetStoredCredentials]"}),"(), where Auth is of the type ",(0,s.jsx)(n.code,{children:"[UAuthenticator]"}),". If you are using StoredCredentials please ensure they are valid by checking the wrapping Structs FStoredCredentials_BE.GetValid() flag returned from ",(0,s.jsx)(n.code,{children:"[GetStoredCredentials]"}),", the providerURL is the url of the provider you wish to use."]}),"\n",(0,s.jsxs)(n.p,{children:["Once you have your ",(0,s.jsx)(n.code,{children:"[USequenceWallet]"})," UObject please ensure that you've registered the session using ",(0,s.jsx)(n.code,{children:"[RegisterSession]"})," before attempting to make other calls to the API."]}),"\n",(0,s.jsx)(n.h3,{id:"sequence-api-methods",children:"Sequence API Methods"}),"\n",(0,s.jsx)(n.p,{children:"We make use of TFunctions with some callbacks:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-clike",children:"TSuccessCallback\nconst TFunction<void(FString)> OnResponse = `[Capturable variables]`(const FString& Response)\n{\n//callback body where we can process Response\n};\n\nFFailureCallback\nconst TFunction<void(FSequenceError)> OnFailureTest = `[Capturable variables]`(const FSequenceError& Error)\n{\n//callback body where we can process Error\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["One thing to be aware of is keep an eye on capturables if you have lots of nested TFunctions it's very easy to miss something and start over writing memory. If you require lots of nesting swapping to a better approach using UFUNCTION callbacks helps to avoid these problems similar to how things are done in ",(0,s.jsx)(n.code,{children:"[UAuthenticator.h/cpp]"})]})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7279:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>l});var s=t(959);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);