"use strict";(self.webpackChunk_0xsequence_docs=self.webpackChunk_0xsequence_docs||[]).push([[5198],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>u});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},w=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(t),w=o,u=d["".concat(s,".").concat(w)]||d[w]||h[w]||a;return t?r.createElement(u,i(i({ref:n},c),{},{components:t})):r.createElement(u,i({ref:n},c))}));function u(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=w;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}w.displayName="MDXCreateElement"},3626:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=t(7462),o=(t(7294),t(3905));const a={sidebar_label:"FAQ"},i=void 0,l={unversionedId:"wallet/connectors/FAQ",id:"wallet/connectors/FAQ",title:"FAQ",description:"Below are frequently asked questions related to the integration of the Sequence wallet connector.",source:"@site/docs/03-wallet/05-connectors/06-FAQ.mdx",sourceDirName:"03-wallet/05-connectors",slug:"/wallet/connectors/FAQ",permalink:"/wallet/connectors/FAQ",draft:!1,editUrl:"https://github.com/0xsequence/docs/edit/master/docs/03-wallet/05-connectors/06-FAQ.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_label:"FAQ"},sidebar:"sidebar",previous:{title:"Web3 React V6",permalink:"/wallet/connectors/web3-react-v6"},next:{title:"Key Management",permalink:"/key-management"}},s={},p=[{value:"NextJs",id:"nextjs",level:2},{value:"Why does my wallet integration produce an error when used with next.js?",id:"why-does-my-wallet-integration-produce-an-error-when-used-with-nextjs",level:3},{value:"How do I use a wallet library and connector with next.js version 12 and below?",id:"how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-12-and-below",level:3},{value:"How do I use a wallet library and connector with next.js version 13 and above?",id:"how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-13-and-above",level:3}],c={toc:p};function d(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Below are frequently asked questions related to the integration of the Sequence wallet connector."),(0,o.kt)("h2",{id:"nextjs"},"NextJs"),(0,o.kt)("h3",{id:"why-does-my-wallet-integration-produce-an-error-when-used-with-nextjs"},"Why does my wallet integration produce an error when used with next.js?"),(0,o.kt)("p",null,"Wallet libraries and connectors must be rendered in the browser, attempts to render the page elsewhere, such as on backend server, will therefore produce and error. That is because these libraries often depend on properties found in the ",(0,o.kt)("inlineCode",{parentName:"p"},"window")," object which is only available in the browser.\nBy default, Next.js renders the web page's content on the server before sending it to the browser. In order to prevent an error, we must specify to Next.js that the wallet library's wrapper component must be rendered in the browser instead. The method for doing so will be different depending on the version of Next.js used."),(0,o.kt)("p",null,"See using wallet libraries with ",(0,o.kt)("a",{parentName:"p",href:"/wallet/connectors/FAQ#how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-12-and-below"},"next.js 12")),(0,o.kt)("p",null,"See using wallet libraries with ",(0,o.kt)("a",{parentName:"p",href:"/wallet/connectors/FAQ#how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-13-and-above"},"next.js 13")),(0,o.kt)("h3",{id:"how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-12-and-below"},"How do I use a wallet library and connector with next.js version 12 and below?"),(0,o.kt)("p",null,"We can use the ",(0,o.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/advanced-features/dynamic-import"},"dynamic import feature")," from Next.js to import and render the wallet library in the browser. It is important to set the ",(0,o.kt)("inlineCode",{parentName:"p"},"ssr")," option to false, which disables server-side rendering, for the integration to work properly.\nThe library wrapper component and all its connectors should be imported in such a way before being used. "),(0,o.kt)("p",null,"In the example below, we first create a wrapper component:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const RainbowKitWrapper = ({ children }) => {\n  // ...rest of the component's code initializing all the connectors and setting the options\n\n  return (\n    <WagmiConfig client={wagmiClient}>\n      <RainbowKitProvider appInfo={AppInfo} chains={chains}>\n        {children}\n      </RainbowKitProvider>\n    </WagmiConfig>\n  );\n}\n\nexport default RainbowKitWrapper\n")),(0,o.kt)("p",null,"We then import this component using dynamic import with the ",(0,o.kt)("inlineCode",{parentName:"p"},"ssr")," option at false."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import dynamic from 'next/dynamic'\n\n// We import a custom wrapper component that initializes the wallet library and all its connectors, in this case Rainbowkit\n// An example of the content of this wrapper component can be found here: https://github.com/SamueleA/nextjs-dynamic-import-sequence/blob/main/pages/RainbowKitProvider.tsx\nconst RainbowKitWrapper = dynamic(() => import('./RainbowKitProvider'), {\n  ssr: false\n})\n\n// We can then wrap our entire app with this browser's rendered component\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <RainbowKitWrapper>\n      <Component {...pageProps} />\n    </RainbowKitWrapper>\n  );\n}\n")),(0,o.kt)("p",null,"The full example of this setup working with the rainbowKit library can be found ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/SamueleA/nextjs-dynamic-import-sequence"},"here"),".\nLibraries other than RainbowKit should be imported in a similar manner."),(0,o.kt)("h3",{id:"how-do-i-use-a-wallet-library-and-connector-with-nextjs-version-13-and-above"},"How do I use a wallet library and connector with next.js version 13 and above?"),(0,o.kt)("p",null,"Next.js 13 allows the declaration of Client Components which are components that will be rendered in the browser.\nA wrapper component containing the wallet library initialized with all the connectors must be declared with the ",(0,o.kt)("inlineCode",{parentName:"p"},'"use client"')," directive. The ",(0,o.kt)("inlineCode",{parentName:"p"},'"use client"')," directive is what will turn the wrapper component into a Client Component to be rendered in the browser."),(0,o.kt)("p",null,"In the example below, we first declare a wrapper Client Component:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'"use client" // this directive informs next.js that the component is a Client Component to be rendered in the browser\n\nconst RainbowKitWrapper = ({ children }) => {\n  // ...rest of the component\'s code initializing all the connectors and setting the options\n\n  return (\n    <WagmiConfig client={wagmiClient}>\n      <RainbowKitProvider appInfo={AppInfo} chains={chains}>\n        {children}\n      </RainbowKitProvider>\n    </WagmiConfig>\n  );\n}\n\nexport default RainbowKitWrapper\n')),(0,o.kt)("p",null,"This wrapper component can then be imported normally and wrap the rest of the application. The child components can be a combination of Client and Server components."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// We import a custom wrapper component that initializes the wallet library and all its connectors, in this case Rainbowkit\n// An example of the content of this wrapper component can be found here: https://github.com/SamueleA/nextjs-dynamic-import-sequence/blob/main/pages/RainbowKitProvider.tsx\nimport RainbowKitWrapper from './RainbowKitWrapper'\n\n// We can then wrap our entire app with this browser's rendered component\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <RainbowKitWrapper>\n      <Component {...pageProps} />\n    </RainbowKitWrapper>\n  );\n}\n")),(0,o.kt)("p",null,"Click ",(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/rendering/server-and-client-components#client-components"},"here")," for more information about Client Components."))}d.isMDXComponent=!0}}]);